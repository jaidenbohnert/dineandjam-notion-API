<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dine & Jam â€“ Performers</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #FFE5B4; /* light orange */
    }

    h1 {
      text-align: center;
      padding: 24px 0 10px;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 24px;
      padding: 20px 40px 60px;
    }

    .performer-card {
      background: white;
      border-radius: 16px;
      padding: 20px;
      width: 300px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.12);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .performer-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 16px 35px rgba(0,0,0,0.18);
    }

    .performer-card img {
      width: 100%;
      height: 190px;
      object-fit: cover;
      border-radius: 12px;
    }

    .performer-card h3 {
      margin: 12px 0 6px;
    }

    .performer-card p {
      margin: 6px 0;
      font-size: 14px;
      line-height: 1.4;
    }

    .bio {
      font-style: italic;
      color: #444;
    }

    .hire-btn {
      margin-top: 14px;
      width: 100%;
      padding: 10px;
      background: #ff9f1c;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 15px;
      cursor: pointer;
    }

    .hire-btn:hover {
      background: #ff8500;
    }
  </style>
</head>

<body>

  <h1>ðŸŽ¶ Dine & Jam Performers</h1>

  <div class="container" id="performers"></div>

  <script>
    const API_URL = "https://dineandjam-notion-api.vercel.app/api/performers";

    async function loadPerformers() {
      try {
        const res = await fetch(API_URL);
        const performers = await res.json();

        const container = document.getElementById("performers");
        container.innerHTML = "";

        performers.forEach(p => {
          const card = document.createElement("div");
          card.className = "performer-card";

          card.innerHTML = `
            <img src="${p.profilePicture}" alt="${p.name}">
            <h3>${p.name}</h3>

            <p><strong>Genre:</strong> ${p.genre}</p>
            <p><strong>City:</strong> ${p.city || "N/A"}</p>
            <p><strong>Availability:</strong> ${p.availability || "N/A"}</p>

            ${p.bio ? `<p class="bio">${p.bio}</p>` : ""}

            ${p.email ? `<p><strong>Email:</strong> ${p.email}</p>` : ""}
            ${p.phone ? `<p><strong>Phone:</strong> ${p.phone}</p>` : ""}

            ${
              p.socials && p.socials.length
                ? `<p><strong>Socials:</strong><br>${p.socials.join("<br>")}</p>`
                : ""
            }

            ${
              p.stripeAccountId
                ? `<button class="hire-btn">Hire Performer</button>`
                : ""
            }
          `;

          container.appendChild(card);
        });

      } catch (err) {
        console.error("Failed to load performers:", err);
      }
    }

    loadPerformers();
  </script>

</body>
</html>
